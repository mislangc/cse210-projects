using System;

public class Story
{
    Spinner spinner = new Spinner();
    public void DisplayIntroduction()
    {
        Console.Clear();
        spinner.ShowSpinner(3);
        Console.WriteLine("In the early ages,");
        spinner.ShowSpinner(1);
        Console.WriteLine("Kings and Queens, ruled the land.");
        spinner.ShowSpinner(2);
        Console.WriteLine("People live peacefully as long as they follow the laws");
        spinner.ShowSpinner(3);
        Console.WriteLine("and suffer punishment if they don't.");
        spinner.ShowSpinner(2);

        Console.WriteLine("");

        Console.WriteLine("You serve as a knight");
        spinner.ShowSpinner(2);
        Console.WriteLine("in the prosperous kingdom of Kirian.");
        spinner.ShowSpinner(3);
        Console.WriteLine("Ruled by a kind and noble king,");
        spinner.ShowSpinner(3);
        Console.WriteLine("King Gunther");
        spinner.ShowSpinner(1);

        Console.WriteLine("");

        Console.WriteLine("The king is well acquainted with you.");
        spinner.ShowSpinner(3);
        Console.WriteLine("He recognizes your achievements");
        spinner.ShowSpinner(2);
        Console.WriteLine("and your service for the kingdom.");
        spinner.ShowSpinner(3);
        
        Console.WriteLine("");
        
        Console.WriteLine("The kingdom of Kirian");
        spinner.ShowSpinner(2);
        Console.WriteLine("is peaceful and prosperous.");
        spinner.ShowSpinner(2);
        Console.WriteLine("People are glad to have King Gunther their king.");
        spinner.ShowSpinner(4);
        Console.WriteLine("Even amidst this peaceful kingdom,");
        spinner.ShowSpinner(3);
        Console.WriteLine("the King mourns everyday");
        spinner.ShowSpinner(2);
        Console.WriteLine("because of the loss of his wife,");
        spinner.ShowSpinner(3);
        Console.WriteLine("the Queen of Kirian");
        spinner.ShowSpinner(2);

        Console.WriteLine("");

        Console.WriteLine("The King's sons and daughters,");
        spinner.ShowSpinner(2);
        Console.WriteLine("are all living their own lives");
        spinner.ShowSpinner(3);
        Console.WriteLine("in different kingdoms across the land.");
        spinner.ShowSpinner(3);
        Console.WriteLine("Only he remains.");
        spinner.ShowSpinner(2);

        Console.WriteLine("");
        Console.Write("(Press Enter to continue)");
        Console.ReadLine();
        Console.Clear();
        //
        Console.WriteLine("You witness the King's grievance everyday.");
        spinner.ShowSpinner(3);
        Console.WriteLine("Having a thought on how to relief his pain.");
        spinner.ShowSpinner(3);

        Console.WriteLine("");

        Console.WriteLine("You saw one of the King's counselors approach the King.");
        spinner.ShowSpinner(4);
        Console.WriteLine("You hear their conversation.");
        spinner.ShowSpinner(2);
        Console.WriteLine("The counselor suggests to the King that he can remarry.");
        spinner.ShowSpinner(4);

        Console.WriteLine("");

        Console.WriteLine("The King was astonished about the idea,");
        spinner.ShowSpinner(3);
        Console.WriteLine("but he was not against it.");
        spinner.ShowSpinner(2);
        Console.WriteLine("The counselor added that remarrying might fill the hole in his heart.");
        spinner.ShowSpinner(4);
        Console.WriteLine("And so the King agreed.");
        spinner.ShowSpinner(2);
        
        Console.WriteLine("");
        Console.Write("(Press Enter to continue)");
        Console.ReadLine();
        Console.Clear();
        //
        Console.WriteLine("The King started the search");
        spinner.ShowSpinner(3);
        Console.WriteLine("for a worthy candidate");
        spinner.ShowSpinner(2);
        Console.WriteLine("to be the next Queen of Kirian.");
        spinner.ShowSpinner(3);

        Console.WriteLine("");

        Console.WriteLine("After a time, one woman was selected.");
        spinner.ShowSpinner(3);
        Console.WriteLine("Her name was Rebecca.");
        spinner.ShowSpinner(3);

        Console.WriteLine("");

        Console.WriteLine("You have been serving kingdom for a long time");
        spinner.ShowSpinner(3);
        Console.WriteLine("and have patrolled Kirian many times and seeing the people.");
        spinner.ShowSpinner(3);
        Console.WriteLine("Yet you claimed for yourself that it is your first time seeing Rebecca.");
        spinner.ShowSpinner(4);

        Console.WriteLine("");

        Console.WriteLine("Rebecca was then crowned as the new Queen of Kirian.");
        spinner.ShowSpinner(3);
        Console.WriteLine("King Gunther and Queen Rebecca addressed the people.");
        spinner.ShowSpinner(3);
        Console.WriteLine("The people rejoiced for their rulers of the kingdom.");
        spinner.ShowSpinner(3);
        Console.WriteLine("Then the celebration ended.");
        spinner.ShowSpinner(3);
        
        Console.WriteLine("");
        Console.Write("(Press Enter to continue)");
        Console.ReadLine();
        Console.Clear();
        //
        Console.WriteLine("One night, you were patrolling a hallway of the King's castle.");
        spinner.ShowSpinner(4);
        Console.WriteLine("You see a faint light coming from a door at the end of the hallway.");
        spinner.ShowSpinner(3);
        Console.WriteLine("Knowing that no one was around, you decided to check that door.");
        spinner.ShowSpinner(4);

        Console.WriteLine("");

        Console.WriteLine("You hear two people talking.");
        spinner.ShowSpinner(3);
        Console.WriteLine("You saw the counselor and the Queen.");
        spinner.ShowSpinner(3);
        Console.WriteLine("The same counselor who suggested the King to remarry.");
        spinner.ShowSpinner(4);
        Console.WriteLine("You were shocked to hear");
        spinner.ShowSpinner(2);
        Console.WriteLine("that the counselor forged Rebecca's papers");
        spinner.ShowSpinner(3);
        Console.WriteLine("so that she will be selected as Queen.");
        spinner.ShowSpinner(3);

        Console.WriteLine("");

        Console.WriteLine("Not only that,");
        spinner.ShowSpinner(1);
        Console.WriteLine("you heard that they planned to overthrow the kingdom.");
        spinner.ShowSpinner(3);
        Console.WriteLine("The counselor said that the peace of Kirian disgusted him.");
        spinner.ShowSpinner(4);
        Console.WriteLine("And they are planning to kill the King.");
        spinner.ShowSpinner(3);

        Console.WriteLine("");

        Console.WriteLine("After hearing that,");
        spinner.ShowSpinner(2);
        Console.WriteLine("you decided to run to the King's Quarters.");
        spinner.ShowSpinner(3);
        Console.WriteLine("But you were caught off guard");
        spinner.ShowSpinner(3);
        Console.WriteLine("by two unfamiliar knights behind you.");
        spinner.ShowSpinner(3);
        
        Console.WriteLine("");

        Console.WriteLine("You were hit hard");
        spinner.ShowSpinner(2);
        Console.WriteLine("by a blunt object behind your neck.");
        spinner.ShowSpinner(3);
        Console.WriteLine("You blacked out.");
        spinner.ShowSpinner(3);
        
        Console.WriteLine("");
        Console.Write("(Press Enter to continue)");
        Console.ReadLine();
        Console.Clear();
    }
    public void DisplayChapterOneTitle()
    {
        spinner.ShowSpinner(4);
        Console.WriteLine("Chapter One: Escape");
        spinner.ShowSpinner(4);

        Console.WriteLine("");
        Console.Write("(Press Enter to continue)");
        Console.ReadLine();
        Console.Clear();
    }
    public void ChapterOne()
    {
        spinner.ShowSpinner(4);
        Console.WriteLine("You woke up...");
        spinner.ShowSpinner(3);
        Console.WriteLine("You thought about what might have happened when you blacked out.");
        spinner.ShowSpinner(4);
        Console.WriteLine("You get on your knees then stood up.");
        spinner.ShowSpinner(3);
        Console.WriteLine("You found yourself locked in a dark room");
        spinner.ShowSpinner(4);

        Console.WriteLine("");

        Console.WriteLine("You thought about the two unfamiliar knights who knocked you out.");
        spinner.ShowSpinner(4);
        Console.WriteLine("You asked yourself if they were with the counselor and the Queen.");
        spinner.ShowSpinner(4);
        Console.WriteLine("They might've carried you to this place.");
        spinner.ShowSpinner(3);

        Console.WriteLine("");

        Console.WriteLine("You remembered the King and the evil plot.");
        spinner.ShowSpinner(3);
        Console.WriteLine("Now you hear yourself saying this");
        spinner.ShowSpinner(3);
        Console.WriteLine("'I need to save the King.'");
        spinner.ShowSpinner(3);
        Console.WriteLine("'But first, I need to get out of this place quick.'");
        spinner.ShowSpinner(4);

        Console.WriteLine("");

        Console.Write("(Press Enter to continue)");
        Console.ReadLine();
        Console.Clear();
    }
    public void Tutorial()
    {
        Console.WriteLine("-Tutorial-");
        spinner.ShowSpinner(4);
        Console.WriteLine("From this point of the game you will be presented with choices.");
        spinner.ShowSpinner(4);
        Console.WriteLine("Your choices will determine how the story will proceed.");
        spinner.ShowSpinner(4);
        Console.WriteLine("And imagine you are in a square room.");
        spinner.ShowSpinner(3);
        Console.WriteLine("This will help you determine the directions that will be shown to you during the game.");
        spinner.ShowSpinner(4);
        Console.WriteLine("That's all you need to remember for now.");
        spinner.ShowSpinner(3);
        Console.WriteLine("Best of luck.");
        spinner.ShowSpinner(3);

        Console.WriteLine("");

        Console.Write("(Press Enter to continue)");
        Console.ReadLine();
        Console.Clear();
    }
    public void RoomOne()
    {
        Console.Write("'I have to get out of here.'");
        spinner.ShowSpinner(3);
        int action = 0;
        string item = "";
        string itemTitle = "";
        string support = "";
        bool doorChecked = false;
        bool smallKeyTaken = false;
        bool doorUnlocked = false;
        bool cabinetChecked = false;
        string left = "";
        string right = "";
        string front = "";
        string back = "";
        string frontAbove = "";
        string lookAround = "1.Look Around";
        while(action != 6)
        {
            Console.Clear();
            Console.WriteLine("-Dark room-");
            Console.WriteLine("");
            Console.WriteLine(left);
            Console.WriteLine(right);
            Console.WriteLine(front);
            Console.WriteLine(back);
            Console.WriteLine(frontAbove);
            Console.WriteLine("");
            Console.WriteLine(lookAround);
            Console.WriteLine($"{itemTitle} {item}");
            Console.Write("What do you want to do? ");
            string input = Console.ReadLine();
            action = int.Parse(input);

            Console.WriteLine("");

            if (action == 1)
            {
                Console.WriteLine("'There seems to be sacks of wheat to my left.'");
                spinner.ShowSpinner(3);
                Console.WriteLine("'Why would there be sacks of wheat here?'");
                spinner.ShowSpinner(3);
                Console.WriteLine("'There's a chair to my right.'");
                spinner.ShowSpinner(3);
                Console.WriteLine("'Behind me is just a wall.'");
                spinner.ShowSpinner(3);
                Console.WriteLine("'And there's a door in front of me.'");
                spinner.ShowSpinner(3);

                left = "2. Check the sacks";
                right = "3. Chair";
                front = "4. Door";
                lookAround = "";
            }
            else if (action == 2)
            {
                if (item == "knife")
                {
                    Console.WriteLine("You used the knife to open the sacks.");
                    spinner.ShowSpinner(3);
                    Console.WriteLine("You poured out the wheat.");
                    spinner.ShowSpinner(4);
                    Console.WriteLine("You heard a metal sound drop.");
                    spinner.ShowSpinner(3);
                    Console.WriteLine("You checked it...");
                    spinner.ShowSpinner(3);
                    Console.WriteLine("You found a key.");
                    spinner.ShowSpinner(3);
                    Console.WriteLine("And now there's wheat everywhere.");
                    spinner.ShowSpinner(3);
                    Console.WriteLine("'How did the key even get there...'");
                    spinner.ShowSpinner(4);
                    item = "door key";
                    left = "2. Wheats are everywhere";
                }
                else if (left == "2. Wheats are everywhere")
                {
                    Console.WriteLine("'I sure made a mess.'");
                    spinner.ShowSpinner(3);
                }
                else
                {
                    Console.WriteLine("'There are a bunch of sacks.'");
                    spinner.ShowSpinner(3);
                    Console.WriteLine("'I wonder who and why left them here.'");
                    spinner.ShowSpinner(3);
                }
            }
            else if (action == 3)
            {
                if (doorChecked == true)
                {
                    Console.WriteLine("You take the chair.");
                    spinner.ShowSpinner(3);
                    support = "chair";
                    right = "3. This is where the chair was.";
                    doorChecked = false;
                }
                else if (cabinetChecked == true)
                {
                    Console.WriteLine("You decided to check the place where the chair was.");
                    spinner.ShowSpinner(3);
                    Console.WriteLine("You see something shiny on the floor.");
                    spinner.ShowSpinner(3);
                    Console.WriteLine("You checked and found a small key.");
                    spinner.ShowSpinner(3);
                    Console.WriteLine("'This must've been hidden below the chair's legs.'");
                    spinner.ShowSpinner(3);
                    item = "small key";
                    itemTitle = "Item:";
                    smallKeyTaken = true;
                    cabinetChecked = false;
                }
                else if (smallKeyTaken == true)
                {
                    Console.WriteLine("'There's nothing here anymore.'");
                    spinner.ShowSpinner(3);
                }
                else 
                {
                    Console.WriteLine("You checked the chair.");
                    spinner.ShowSpinner(3);
                    Console.WriteLine("You see nothing unusual.");
                    spinner.ShowSpinner(3);
                    Console.WriteLine("You tried to sit on it and relax a bit.");
                    spinner.ShowSpinner(3);
                    Console.WriteLine("Then you stood up.");
                    spinner.ShowSpinner(3);
                    Console.WriteLine("'Why did I even sat down.'");
                    spinner.ShowSpinner(3);
                }
                
            }
            else if (action == 4)
            {
                if (doorUnlocked == true)
                {
                    Console.WriteLine("You leave the room.");
                    spinner.ShowSpinner(3);
                    Console.WriteLine("You escaped successfully.");
                    spinner.ShowSpinner(3);
                    Console.WriteLine("Thank you for playing the Story!");
                    spinner.ShowSpinner(5);
                    action = 6;
                }
                else if (item == "door key")
                {
                    Console.WriteLine("You used the key from the sacks...");
                    spinner.ShowSpinner(3);
                    Console.WriteLine("The door unlocked!");
                    spinner.ShowSpinner(3);
                    doorUnlocked = true;
                    front = "4. Unlocked Door";
                    item = "";
                }
                else if (item == "small key")
                {
                    Console.WriteLine("You used the small key to the door...");
                    spinner.ShowSpinner(3);
                    Console.WriteLine("'It doesn't work, it's too small for the keyhole.'");
                    spinner.ShowSpinner(3);
                }
                else if (item == "knife")
                {
                    Console.WriteLine("You tried to use the knife on the door...");
                    spinner.ShowSpinner(3);
                    Console.WriteLine("'Nope.'");
                    spinner.ShowSpinner(3);
                }
                else
                {
                Console.WriteLine("You checked the door...");
                spinner.ShowSpinner(3);
                Console.WriteLine("It's locked");
                spinner.ShowSpinner(2);
                Console.WriteLine("There's a keyhole on your side of the door.");
                spinner.ShowSpinner(3);
                Console.WriteLine("'If only there was a key.'");
                spinner.ShowSpinner(3);

                Console.WriteLine("You also noticed,");
                spinner.ShowSpinner(2);
                Console.WriteLine("there's a little cabinet attached to the wall above the door.");
                spinner.ShowSpinner(3);
                frontAbove = "5. Cabinet";
                
                }
            }
            else if (action == 5)
            {
                if (support == "chair")
                {
                    Console.WriteLine("You used the chair to reach the cabinet.");
                    spinner.ShowSpinner(3);
                    if (item == "small key")
                    {
                        Console.WriteLine("You used the small key.");
                        spinner.ShowSpinner(3);
                        Console.WriteLine("The cabinet opens.");
                        spinner.ShowSpinner(3);
                        Console.WriteLine("There's a knife inside.");
                        spinner.ShowSpinner(3);
                        Console.WriteLine("You took the knife.");
                        spinner.ShowSpinner(3);
                        item = "knife";
                        frontAbove = "";
                    }
                    else 
                    {
                        Console.WriteLine("But the cabinet is locked.");
                        spinner.ShowSpinner(3);
                        cabinetChecked = true;
                    }
                    
                }
                else
                {
                    Console.WriteLine("The cabinet is too high to reach.");
                    spinner.ShowSpinner(3);
                    doorChecked = true;
                }
            }
        }


    }
    
}